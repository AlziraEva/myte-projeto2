@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@model IEnumerable<Wbs>

@{
    ViewData["Title"] = "WBS cadastradas";
}

 @* <link rel="stylesheet" href="/css/IndexWbs.css">  *@

 <partial name="_NavBar" model="Model"></partial>

@if (TempData["SuccessMessage"] != null)
{
    <div class="alert alert-success alert-dismissible fade show" role="alert">
        @TempData["SuccessMessage"]
        @* <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button> *@
    </div>
}

@if (TempData["SuccessMessageDelete"] != null)
{
    <div class="alert alert-success alert-dismissible fade show" role="alert">
        @TempData["SuccessMessageDelete"]
        @* <button type="button" class="close" data-dismiss="alert" aria-label="Close">
    <span aria-hidden="true">&times;</span>
    </button> *@
    </div>
}


<div class="nav d-flex justify-content-lg-between container_Pesquisa-button ">
    <div class="div d-flex d-flex my-auto h-25 ">
        <input type="search" placeholder="Pesquisar WBS" class=" input_search" />
        <button class="botao_search"><img src="~/assets/icon_lupa.svg" /></button>
    </div>

    <a class="btn btn-primary botao_criar_wbs" asp-action="CreateWbs">
        <img src="/assets/icon-add-plus.svg" class="icone_plus" />
        WBS
    </a>
</div>


<div asp-validation-summary="All" class="text-danger"></div>

<table class="table tabela_wbs">
    <thead class="thead_wbs">
        <tr class="tr_wbs">
            <th>Nome</th>
            <th>Codigo</th>
            <th>Descrição</th>
            <th>Tipo</th>
            <th>Data de criação</th>
            <th>Atualizar</th>
            <th>Excluir</th>
        </tr>
    </thead>

    <tbody class="tbody_wbs">
        @foreach(Wbs cadastro in Model)
        {
            <tr class="linha_tabela">
                <form method="post" id="form_update">
                <td> @cadastro.Nome </td>
                <td>  @cadastro.Codigo</td>
                <td> @cadastro.Descricao </td>
                <td> @cadastro.Tipo </td>
                <td>@cadastro.DataCriacao </td>
                    <td>
                    <a type="button" 
                        class="btn  botao_edit_wbs edit-button" 
                        asp-action="UpdateWbs" 
                        asp-controller="Wbs" 
                        asp-route-id="@cadastro.Codigo">

                        <img src="~/assets/icon_edit.svg" 
                             class="icon_edit">
                    </a>
                    </td>
                    <td>
                    <form asp-action="Delete" asp-route-id="@cadastro.Codigo" method="post">
                        <button type="submit" class="btn  botao_excluir_wbs confirm-action">
                            <img src="~/assets/icon_delete.svg" class="icon_delete">
                        </button>
                    </form>
                    
                    </td>
                </form>
                
            </tr>
        }
    </tbody>

</table>








